!function(c){c.fn.drag=function(e){var s,d=this,t=!1;e=c.extend({},e);this.append('<div class="drag_bg"></div><div class="drag_text" onselectstart="return false;" unselectable="on">拖动滑块验证</div><div class="handler handler_bg"></div>');var a=d.find(".handler"),o=d.find(".drag_bg"),i=d.find(".drag_text"),u=d.width()-a.width();a.mousedown(function(e){t=!0,s=e.pageX-parseInt(a.css("left"),10)}),c(document).mousemove(function(e){var n=e.pageX-s;t&&(0<n&&n<=u?(a.css({left:n}),o.css({width:n})):u<n&&(a.removeClass("handler_bg").addClass("handler_ok_bg"),i.text("验证通过"),d.css({color:"#fff"}),a.unbind("mousedown"),c(document).unbind("mousemove"),c(document).unbind("mouseup"),c(".RE-next").css({background:"#FF4001"})))}).mouseup(function(e){t=!1,e.pageX-s<u&&(a.css({left:0}),o.css({width:0}))})}}(jQuery);